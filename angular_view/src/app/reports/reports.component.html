<!--<div class="col-xs-3">-->
<!--<app-sidenavbar></app-sidenavbar>-->
<!--</div>-->
<div class="container">
  <div class="row">
    <div class="col-xs-12">
      <form (ngSubmit)="getUserDetails(f1)" #f1="ngForm" ngNativeValidate>
        <div class="input-group">
          <input type="text" id="searchuserid" name="searchuserid" ngModel class="form-control"
                 placeholder="Search Customer ID" required>
          <span class="input-group-btn" style="width:0;">
        <button class="btn btn-primary" type="submit">Go!</button>
         </span>
        </div>
      </form>
    </div>
  </div>
</div>

  <br>
<div class="container" id="userDetailsContainer" style="visibility: hidden" >
  <div class="header">
    <h4 class="title">Customer Details</h4>
  </div>
  <form (ngSubmit)="updateUserDetails(f2)" #f2="ngForm">
    <div class="row" >
      <div class="col-md-3">
        <div class="form-group">
          <label for="userid">UserID(Disabled):</label>
          <input type="text" ngModel class="form-control" [(ngModel)]="customerDetails.userId" id="userid" disabled placeholder="UserID" name="userid">
        </div>
      </div>

      <div class="col-md-5">
        <div class="form-group">
          <label class="control-label" for="uname">UserName:</label>
          <input type="text" ngModel [(ngModel)]="customerDetails.customerName"  class="form-control" id="uname" name="uname" >
        </div>
      </div>
      <div class="col-md-4">
        <div class="form-group">
          <label class="control-label" for="email">Email:</label>
          <input type="email" ngModel class="form-control"
                 id="email" placeholder="Enter email"
                 name="email" [(ngModel)] = "customerDetails.customerEmail">
        </div>
      </div>
    </div>

    <div class="row">

      <div class="col-md-3">
        <div class="form-group">
          <label class="control-label">Gender:</label>
          <!--<div class="row">-->
          <div class="form-group">
            <!--<div class="col-md-6">-->
              <input type="radio"  id="M" name="gender" value="Male" [(ngModel)]="customerDetails.gender">Male
              <input type="radio"  id="F" name="gender" value="Female" [(ngModel)]="customerDetails.gender">Female
            <!--</div>-->
          </div>
        </div>
      </div>

      <div class="col-md-3">
        <div class="form-group">
          <label class="control-label" for="totalreports">Total Reports:</label>
          <input type="text" ngModel class="form-control" id="totalreports"
                 name="totalreports" [(ngModel)] = "customerDetails.totalReports">
        </div>
      </div>

      <div class="col-md-3">
        <div class="form-group">
          <label class="control-label" for="regdate">Registration Date:</label>
          <input type="text" ngModel class="form-control" id="regdate"
                 name="regdate" [(ngModel)] = "customerDetails.createdDate">
        </div>
      </div>

      <div class="col-md-3">
        <div class="form-group">
          <label class="control-label" for="expdate">Expiry Date:</label>
          <input type="text" ngModel class="form-control" id="expdate"
                 name="expdate" [(ngModel)]="customerDetails.validDate">
        </div>
      </div>
    </div>

    <div class="row">
      <div class="col-md-3">
        <div class="form-group">
          <label class="control-label" for="area">Area:</label>
          <input type="text" ngModel class="form-control" id="area"
                 name="area" [(ngModel)]="customerDetails.area">
        </div>
      </div>

      <div class="col-md-3">
        <div class="form-group">
          <label class="control-label" for="city">City:</label>
          <input type="text" ngModel class="form-control" id="city"
                 name="city" [(ngModel)]="customerDetails.city">
        </div>
      </div>

      <div class="col-md-3">
        <div class="form-group">
          <label class="control-label" for="dob">Date Of Birth:</label>
          <input type="text" ngModel class="form-control" id="dob"
                 name="dob" [(ngModel)]="customerDetails.dateOfBirth">
        </div>
      </div>

      <div class="col-md-3">
        <div class="form-group">
          <label class="control-label" for="occupation">Occupation:</label>
          <input type="text" ngModel class="form-control" id="occupation"
                 name="occupation" [(ngModel)]="customerDetails.occupation">
        </div>
      </div>
    </div>

    <div class="row">
      <div class="col-md-3">
        <div class="form-group">
          <label class="control-label">Married:</label>
          <div class="row">
            <div class="col-md-8">
              <input type="radio" id="Married" value="Married" name="married" [(ngModel)]="customerDetails.married"> Married
              <input type="radio" id="Single" value="Single"  name="married" [(ngModel)]="customerDetails.married"> Single
            </div>
          </div>
        </div>
      </div>

      <div class="col-md-3">
        <div class="form-group">
          <label class="control-label" for="habits">Personal Habits:</label>
          <input type="text" ngModel class="form-control" id="habits"
                 name="habits" [(ngModel)]="customerDetails.habits">
        </div>
      </div>


      <div class="col-md-3">
        <div class="form-group">
          <label class="control-label" for="dname">Family Doctor Name:</label>
          <input type="text" ngModel class="form-control" id="dname"
                 name="dname" [(ngModel)]="customerDetails.familyDoctor">
        </div>
      </div>
      <div class="col-md-3">
        <div class="form-group">
          <label class="control-label" for="dnum">Family Doctor Number:</label>
          <input type="text" ngModel class="form-control" id="dnum"
                 name="dnum" [(ngModel)]="customerDetails.doctorNumber">
        </div>
      </div>
    </div>

        <button type="submit"  class="btn btn-primary center-block">Update Profile</button>

  </form>
</div>

<br>

<div class="container" id="reportDetailsContainer" style="visibility: hidden">
  <div class="row">
    <div class="col-xs-12">
      <div class="content table-responsive table-full-width">
        <table  id="dataTables" class="table table-hover table-striped"  >
          <thead>
          <tr>
            <th>Report ID</th>
            <th>Report Type</th>
            <!--<th>Report Name</th>-->
            <th>Report Date</th>
            <th>Status</th>
            <th>Action</th>
            <th>Reason</th>

          </tr>
          </thead>
          <tbody>
          <tr *ngFor="let u1 of reportDetails , let i = index" >
            <td>{{ i + 1 }}</td>
            <td>{{u1.reportType}}</td>
            <!--<td>{{u1.reportKey}}</td>-->
            <td>{{u1.reportDate}}</td>
            <td>{{u1.reportStatus}}</td>
            <td>{{u1.reportReason}}</td>
            <td>
              <button class="btn btn-primary" (click)="showReport(template,u1._id , i)" >View</button>
              <!--<button class="btn btn-danger" (click)="deleteReport(u1.reportId)" >Delete</button>-->
              <!--<button class="btn btn-primary" (click)="rejectReport(u1.reportId)">Reject</button>-->
              <!--<button class="btn btn-primary" (click)="approveReport(u1.reportId)">Approve</button>-->
            </td>
          </tr>
          </tbody>
        </table>

        <!--<img  [src]="reportString" style="width:200px;">-->
        <ng-template #template>
            <div class="modal-content" style="overflow-y: scroll;">
            <div class="modal-header">
            <h4 class="modal-title pull-left">Report Type: {{reportType}} </h4>
            <button type="button" class="close pull-right" aria-label="Close" (click)="modalRef.hide()">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body">
            <img  [src]="reportString" style="width:550px;">
          </div>
          <div class="modal-footer center-block">
            <form #f3="ngForm">
              <div class="form-group pull-left">
                <label for="reason">Reason:</label>
                <input type="text" id="reason" name="reason"
                     class="form-group"   [(ngModel)]="reason">
                <button class="btn btn-danger" (click)="deleteReport()" >Delete</button>
                <!--<button class="btn btn-danger" type="submit" >Delete</button>-->
                <button class="btn btn-primary" (click)="rejectReport()">Reject</button>
                <button class="btn btn-primary" (click)="approveReport()">Approve</button>
              </div>
              <label style="visibility: hidden">{{reportId}}</label>
              <label style="visibility: hidden">{{indexi}}</label>
            </form>
          </div>
          </div>
        </ng-template>

    </div>

  </div>
</div>

