<!--<div class="col-xs-3">-->
<!--<app-sidenavbar></app-sidenavbar>-->
<!--</div>-->
<div class="container">
  <div class="row">
    <div class="col-xs-12">
      <form (ngSubmit)="getUserDetails(f1)" #f1="ngForm" ngNativeValidate>
        <div class="input-group">
          <input type="text" id="searchuserid" name="searchuserid" ngModel class="form-control"
                 placeholder="Search Customer ID" required>
          <span class="input-group-btn" style="width:0;">
        <button class="btn btn-primary" type="submit">Go!</button>
         </span>
        </div>
      </form>
    </div>
  </div>
</div>

  <br>
<div class="container" id="userDetailsContainer" style="visibility: hidden">
  <div class="header">
    <h4 class="title">Customer Details</h4>
  </div>
  <form (ngSubmit)="updateUserDetails(f2)" #f2="ngForm" >
    <div class="row">
      <div class="col-md-3">
        <div class="form-group">
          <label for="userid">UserID(Disabled):</label>
          <input type="text" ngModel class="form-control" [(ngModel)]="userDetails.id" id="userid" disabled placeholder="UserID" name="userid">
        </div>
      </div>

      <div class="col-md-5">
        <div class="form-group">
          <label class="control-label" for="uname">UserName:</label>
          <input type="text" ngModel [(ngModel)]="userDetails.name"  class="form-control" id="uname" name="uname" >
        </div>
      </div>
      <div class="col-md-4">
        <div class="form-group">
          <label class="control-label" for="email">Email:</label>
          <input type="email" ngModel class="form-control"
                 id="email" placeholder="Enter email"
                 name="email" [(ngModel)] = "userDetails.email">
        </div>
      </div>
    </div>

    <div class="row">

      <div class="col-md-3">
        <div class="form-group">
          <label class="control-label">Gender:</label>
          <div class="row">
            <div class="col-md-6">
              <input type="radio"  id="M" name="gender" value="M" [(ngModel)]="userDetails.gender" > Male
              <input type="radio"  id="F" name="gender" value="F" [(ngModel)]="userDetails.gender" >Female
            </div>
          </div>
        </div>
      </div>

      <div class="col-md-3">
        <div class="form-group">
          <label class="control-label" for="totalreports">Total Reports:</label>
          <input type="text" ngModel class="form-control" id="totalreports"
                 name="totalreports" [(ngModel)] = "userDetails.totalReports">
        </div>
      </div>

      <div class="col-md-3">
        <div class="form-group">
          <label class="control-label" for="regdate">Registration Date:</label>
          <input type="text" ngModel class="form-control" id="regdate"
                 name="regdate" [(ngModel)] = "userDetails.registrationDate">
        </div>
      </div>

      <div class="col-md-3">
        <div class="form-group">
          <label class="control-label" for="expdate">Expiry Date:</label>
          <input type="text" ngModel class="form-control" id="expdate"
                 name="expdate" [(ngModel)]="userDetails.subscriptoinEnds">
        </div>
      </div>
    </div>

    <div class="row">
      <div class="col-md-3">
        <div class="form-group">
          <label class="control-label" for="area">Area:</label>
          <input type="text" ngModel class="form-control" id="area"
                 name="area" [(ngModel)]="userDetails.area">
        </div>
      </div>

      <div class="col-md-3">
        <div class="form-group">
          <label class="control-label" for="city">City:</label>
          <input type="text" ngModel class="form-control" id="city"
                 name="city" [(ngModel)]="userDetails.city">
        </div>
      </div>

      <div class="col-md-3">
        <div class="form-group">
          <label class="control-label" for="enum">Emergency Number:</label>
          <input type="text" ngModel class="form-control" id="enum"
                 name="enum" [(ngModel)]="userDetails.enum1">
        </div>
      </div>

      <div class="col-md-3">
        <div class="form-group">
          <label class="control-label" for="occupation">Occupation:</label>
          <input type="text" ngModel class="form-control" id="occupation"
                 name="occupation" [(ngModel)]="userDetails.occupation">
        </div>
      </div>
    </div>

    <div class="row">
      <div class="col-md-3">
        <div class="form-group">
          <label class="control-label">Married:</label>
          <div class="row">
            <div class="col-md-8">
              <input type="radio" id="Married" value="Married" name="married" [(ngModel)]="userDetails.married"> Married
              <input type="radio" id="Single" value="Single"  name="married" [(ngModel)]="userDetails.married"> Single
            </div>
          </div>
        </div>
      </div>

      <div class="col-md-3">
        <div class="form-group">
          <label class="control-label" for="habits">Personal Habits:</label>
          <input type="text" ngModel class="form-control" id="habits"
                 name="habits" [(ngModel)]="userDetails.habits">
        </div>
      </div>


      <div class="col-md-3">
        <div class="form-group">
          <label class="control-label" for="dname">Family Doctor Name:</label>
          <input type="text" ngModel class="form-control" id="dname"
                 name="dname" [(ngModel)]="userDetails.dname">
        </div>
      </div>
      <div class="col-md-3">
        <div class="form-group">
          <label class="control-label" for="dnum">Family Doctor Number:</label>
          <input type="text" ngModel class="form-control" id="dnum"
                 name="dnum" [(ngModel)]="userDetails.dnum">
        </div>
      </div>
    </div>

        <button type="submit"  class="btn btn-primary center-block">Update Profile</button>

  </form>
</div>

<br>

<div class="container" id="reportDetailsContainer" style="visibility: hidden">
  <div class="row">
    <div class="col-xs-12">
      <div class="content table-responsive table-full-width">
        <table   class="table table-hover table-striped"  >
          <thead>
          <tr>
            <th>Report ID</th>
            <th>Report Type</th>
            <th>Report Name</th>
            <th>Report Date</th>
            <th>Status</th>
            <th>Action</th>

          </tr>
          </thead>
          <tbody>
          <tr *ngFor="let u1 of reportDetails">
            <td>{{u1.rid}}</td>
            <td>{{u1.rtype}}</td>
            <td>{{u1.rname}}</td>
            <td>{{u1.rdate}}</td>
            <td>{{u1.status}}</td>
            <td>
              <button class="btn btn-primary" (click)="showReport(template,u1.rid , userDetails.id)" >View</button>
              <button class="btn btn-danger" (click)="deleteReport(u1.rid , userDetails.id)" >Delete</button>
              <button class="btn btn-primary" (click)="rejectReport(reportId , userDetails.id)">Reject</button>
              <button class="btn btn-primary" (click)="approveReport(reportId , userDetails.id)">Approve</button>
            </td>
          </tr>
          </tbody>
        </table>

        <!--<img  [src]="reportString" style="width:200px;">-->
        <ng-template #template>
          <div class="modal-header">
            <h4 class="modal-title pull-left">Report ID: {{reportId}} </h4>
            <button type="button" class="close pull-right" aria-label="Close" (click)="modalRef.hide()">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body">
            <img  [src]="reportString" style="width:550px;">
          </div>
          <div class="modal-footer">
            <button class="btn btn-danger" (click)="deleteReport(reportId , userDetails.id)" >Delete</button>
            <button class="btn btn-primary" (click)="rejectReport(reportId , userDetails.id)">Reject</button>
            <button class="btn btn-primary" (click)="approveReport(reportId , userDetails.id)">Approve</button>
          </div>
        </ng-template>
      </div>
    </div>

  </div>
</div>

